local a=(type(cloneref)=='function')and cloneref or function(a)return a end local b,c,d,e,f,g,h,i,j,k,l=a(game:GetService'UserInputService'),a(game:GetService'TweenService'),a(game:GetService'TextService'),Instance.new,UDim2.new,UDim.new,Vector2.new,Color3.fromRGB,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local m,n,o,p={Primary=i(100,100,100),Dark=i(22,22,26),Accent=i(138,43,226),White=i(255,255,255),LightGray=i(245,245,245),MediumGray=i(200,200,200),DarkGray=i(150,150,150),Background=i(24,24,26),Outline=i(30,30,30),Topbar=i(10,10,10),Selection=i(138,43,226)},{Menu='rbxassetid://82682091622365',Minimize='rbxassetid://101118075751604',Arrow='rbxassetid://10709790948'},gethui():FindFirstChild'NexusLibrary',gethui():FindFirstChild'NexusLibraryMenuButton'if o then o:Destroy()end if p then p:Destroy()end local function AddCorner(q,r)local s=e'UICorner's.CornerRadius=g(0,r)s.Parent=q return s end local function MakeDraggable(q,r,s)local t,u,v,w local function UpdatePosition(x)local y=x.Position-v r.Position=f(w.X.Scale,w.X.Offset+y.X,w.Y.Scale,w.Y.Offset+y.Y)end s[#s+1]=q.InputBegan:Connect(function(x)if x.UserInputType==Enum.UserInputType.MouseButton1 or x.UserInputType==Enum.UserInputType.Touch then t=true v=x.Position w=r.Position x.Changed:Connect(function()if x.UserInputState==Enum.UserInputState.End then t=false end end)end end)s[#s+1]=q.InputChanged:Connect(function(x)if x.UserInputType==Enum.UserInputType.MouseMovement or x.UserInputType==Enum.UserInputType.Touch then u=x end end)s[#s+1]=b.InputChanged:Connect(function(x)if x==u and t then UpdatePosition(x)end end)end local q=e'ScreenGui'q.Name='NexusLibraryMenuButton'q.Parent=gethui()q.ZIndexBehavior=Enum.ZIndexBehavior.Sibling q.ResetOnSpawn=false q.Enabled=false local r=e'Frame'r.Name='OutlineButton'r.Parent=q r.BackgroundColor3=m.Dark r.Position=f(0,10,0,10)r.Size=f(0,50,0,50)AddCorner(r,12)local s=e'ImageButton's.Parent=r s.Position=f(0.5,0,0.5,0)s.Size=f(0,40,0,40)s.AnchorPoint=h(0.5,0.5)s.BackgroundColor3=m.Dark s.ImageColor3=m.White s.Image=n.Menu AddCorner(s,10)local t={}MakeDraggable(s,r,t)local u={}function u.CreateWindow(v,w)w=w or'NEXUS LIBRARY'local x,y,z,A,B,C=f(0,490,0,330),130,{},false,{},e'ScreenGui'C.Name='NexusLibrary'C.Parent=gethui()C.DisplayOrder=999 C.ResetOnSpawn=false z._TabScroll=nil z._MainGui=C z._Connections=B local D=e'Frame'D.Name='MainFrame'D.Parent=C D.AnchorPoint=h(0.5,0.5)D.BackgroundColor3=m.Background D.Position=f(0.5,0,0.45,0)D.Size=f(0,0,0,0)D:TweenSize(x,'Out','Quad',0.4,true)AddCorner(D,12)local E=e'Frame'E.Name='TopBar'E.Parent=D E.BackgroundColor3=m.Topbar E.BackgroundTransparency=1 E.Size=f(1,0,0,40)AddCorner(E,5)local F=e'TextLabel'F.Name='TitleLabel'F.Parent=E F.BackgroundTransparency=1 F.Position=f(0,15,0.5,0)F.AnchorPoint=h(0,0.5)F.Size=f(0,1,0,25)F.Font=Enum.Font.Cartoon F.Text=w F.TextSize=20 F.TextColor3=m.White F.TextXAlignment=Enum.TextXAlignment.Left local G=d:GetTextSize(F.Text,F.TextSize,F.Font,h(9999,9999))F.Size=f(0,G.X,0,25)local H=e'ImageButton'H.Name='MinimizeBtn'H.Parent=E H.BackgroundTransparency=1 H.AnchorPoint=h(1,0.5)H.Position=f(1,-15,0.5,0)H.Size=f(0,20,0,20)H.Image=n.Minimize H.ImageColor3=m.LightGray AddCorner(H,3)local I=e'Frame'I.Name='TabContainer'I.Parent=D I.BackgroundTransparency=1 I.Position=f(0,8,0,E.Size.Y.Offset)I.Size=f(0,y,x.Y.Scale,x.Y.Offset-E.Size.Y.Offset-8)local J=e'ScrollingFrame'J.Name='TabScrollFrame'J.Parent=I J.BackgroundTransparency=1 J.Size=f(1,0,1,0)J.ScrollBarThickness=0 AddCorner(I,5)z._TabScroll=J local K=e'UIListLayout'K.Parent=J K.SortOrder=Enum.SortOrder.LayoutOrder K.Padding=g(0,2)local L=e'Frame'L.Name='ContentPage'L.Parent=D L.BackgroundTransparency=1 L.Position=f(0,I.Size.X.Offset+18,0,E.Size.Y.Offset)L.Size=f(x.X.Scale,x.X.Offset-I.Size.X.Offset-25,x.Y.Scale,x.Y.Offset-E.Size.Y.Offset-8)AddCorner(L,3)local M=e'Frame'M.Name='PageContainer'M.Parent=L M.BackgroundTransparency=1 M.ClipsDescendants=true M.Size=f(1,0,1,0)local N=e'Folder'N.Name='PageList'N.Parent=M local O=e'UIPageLayout'O.Parent=N O.SortOrder=Enum.SortOrder.LayoutOrder O.EasingDirection=Enum.EasingDirection.InOut O.EasingStyle=Enum.EasingStyle.Quad O.Padding=g(0,10)O.TweenTime=0 MakeDraggable(E,D,B)B[#B+1]=H.MouseButton1Click:Connect(function()C.Enabled=false q.Enabled=true end)s.MouseButton1Click:Connect(function()C.Enabled=true q.Enabled=false end)B[#B+1]=K:GetPropertyChangedSignal'AbsoluteContentSize':Connect(function()J.CanvasSize=f(0,0,0,K.AbsoluteContentSize.Y)end)function z.CreateTab(P,Q)local R=e'TextButton'R.Parent=J R.Name=Q..'Tab'R.Text=''R.BackgroundTransparency=1 R.Size=f(1,0,0,35)local S=e'Frame'S.Name='SelectionIndicator'S.Parent=R S.BackgroundColor3=m.Accent S.Size=f(0,3,0,0)S.Position=f(0,0,0.5,0)S.AnchorPoint=h(0,0.5)AddCorner(S,100)local T=e'TextLabel'T.Parent=R T.Name='TabText'T.BackgroundTransparency=1 T.Position=f(0,10,0.5,0)T.Size=f(0,100,0,30)T.Font=Enum.Font.Cartoon T.Text=Q T.AnchorPoint=h(0,0.5)T.TextColor3=m.White T.TextTransparency=0.4 T.TextSize=14 T.TextXAlignment=Enum.TextXAlignment.Left AddCorner(R,6)local U=e'ScrollingFrame'U.Name=Q..'Page'U.Parent=N U.BackgroundTransparency=1 U.Size=f(1,0,1,0)U.ScrollBarThickness=0 local V=e'UIListLayout'V.Parent=U V.SortOrder=Enum.SortOrder.LayoutOrder V.Padding=g(0,3)B[#B+1]=V:GetPropertyChangedSignal'AbsoluteContentSize':Connect(function()U.CanvasSize=f(0,0,0,V.AbsoluteContentSize.Y+5)end)B[#B+1]=R.MouseButton1Click:Connect(function()for W,X in ipairs(J:GetChildren())do if X:IsA'TextButton'then c:Create(X,k,{BackgroundTransparency=1}):Play()local Y=X:FindFirstChild'SelectionIndicator'if Y then c:Create(Y,j,{Size=f(0,3,0,0)}):Play()end local Z=X:FindFirstChild'TabText'if Z then c:Create(Z,k,{TextTransparency=0.4}):Play()end end end c:Create(R,k,{BackgroundTransparency=0.8}):Play()c:Create(S,k,{Size=f(0,3,0,15)}):Play()c:Create(T,k,{TextTransparency=0}):Play()O:JumpTo(U)end)if not A then c:Create(R,k,{BackgroundTransparency=0.8}):Play()c:Create(S,j,{Size=f(0,3,0,15)}):Play()c:Create(T,k,{TextTransparency=0}):Play()O:JumpToIndex(1)A=true end local W={}function W.AddButton(X,Y,Z)local _=e'TextButton'_.Name='Button'_.Parent=U _.BackgroundColor3=m.Accent _.Size=f(1,0,0,36)_.Text=''AddCorner(_,5)local aa=e'TextLabel'aa.Name='ButtonText'aa.Parent=_ aa.BackgroundTransparency=1 aa.AnchorPoint=h(0.5,0.5)aa.Position=f(0.5,0,0.5,0)aa.Size=f(1,-20,1,0)aa.Font=Enum.Font.Cartoon aa.Text=Y aa.TextColor3=m.White aa.TextSize=15 B[#B+1]=_.MouseButton1Click:Connect(function()pcall(Z)end)end function W.AddToggle(aa,X,Y,Z)local _,ab=Y or false,e'TextButton'ab.Name='ToggleButton'ab.Parent=U ab.BackgroundColor3=m.Primary ab.BackgroundTransparency=0.8 ab.Text=''ab.Size=f(1,0,0,36)AddCorner(ab,5)local ac=e'TextLabel'ac.Parent=ab ac.BackgroundTransparency=1 ac.Size=f(1,0,0,35)ac.Font=Enum.Font.Cartoon ac.Text=X ac.TextColor3=m.White ac.TextSize=15 ac.TextXAlignment=Enum.TextXAlignment.Left ac.AnchorPoint=h(0,0.5)ac.Position=f(0,15,0.5,0)local ad=e'Frame'ad.Name='ToggleFrame'ad.Parent=ab ad.BackgroundTransparency=1 ad.Position=f(1,-10,0.5,0)ad.Size=f(0,35,0,20)ad.AnchorPoint=h(1,0.5)AddCorner(ad,10)local ae=e'TextButton'ae.Name='ToggleBackground'ae.Parent=ad ae.BackgroundColor3=m.MediumGray ae.BackgroundTransparency=0.8 ae.Size=f(1,0,1,0)ae.Text=''AddCorner(ae,10)local af=e'Frame'af.Name='ToggleCircle'af.Parent=ae af.BackgroundColor3=m.White af.Position=f(0,3,0.5,0)af.Size=f(0,14,0,14)af.AnchorPoint=h(0,0.5)AddCorner(af,10)local function UpdateToggle(ag)if ag then af:TweenPosition(f(0,17,0.5,0),'Out','Sine',0.2,true)c:Create(ae,l,{BackgroundColor3=m.Accent,BackgroundTransparency=0}):Play()else af:TweenPosition(f(0,4,0.5,0),'Out','Sine',0.2,true)c:Create(ae,l,{BackgroundColor3=m.MediumGray,BackgroundTransparency=0.8}):Play()end end B[#B+1]=ae.MouseButton1Click:Connect(function()_=not _ UpdateToggle(_)pcall(Z,_)end)if Y then UpdateToggle(true)pcall(Z,_)end local ag={Value=_}function ag.SetValue(ah,ai)_=ai ah.Value=_ UpdateToggle(_)pcall(Z,_)end return ag end function W.AddDropdown(aa,ab,ac,ad,ae)local af,ag=false if type(ad)=='function'then ae=ad ad=ac ac=nil end local ah=e'Frame'ah.Name='Dropdown'ah.Parent=U ah.BackgroundColor3=m.Primary ah.BackgroundTransparency=0.8 ah.Size=f(1,0,0,40)AddCorner(ah,5)local ai=e'TextLabel'ai.Name='DropdownTitle'ai.Parent=ah ai.BackgroundTransparency=1 ai.Size=f(1,0,0,30)ai.Font=Enum.Font.Cartoon ai.Text=ab ai.TextColor3=m.White ai.TextSize=15 ai.TextXAlignment=Enum.TextXAlignment.Left ai.Position=f(0,15,0,5)local X=e'TextButton'X.Name='SelectedLabel'X.Parent=ah X.BackgroundColor3=m.Background X.TextColor3=m.White X.Position=f(1,-5,0,5)X.Size=f(0,100,0,30)X.AnchorPoint=h(1,0)X.Font=Enum.Font.Cartoon X.TextSize=12 X.ZIndex=1 X.Text='   Select'X.TextXAlignment=Enum.TextXAlignment.Left AddCorner(X,5)local Y=e'ImageLabel'Y.Name='ArrowIcon'Y.Parent=ah Y.BackgroundTransparency=1 Y.AnchorPoint=h(1,0)Y.Position=f(1,-110,0,10)Y.Size=f(0,20,0,20)Y.Image=n.Arrow Y.ImageColor3=m.White local Z=e'Frame'Z.Name='DropdownScrollContainer'Z.Parent=ah Z.BackgroundColor3=m.Background Z.Size=f(1,-10,0,0)Z.Position=f(0,5,0,40)Z.Visible=false AddCorner(Z,5)local _=e'ScrollingFrame'_.Name='DropdownScroll'_.Parent=Z _.BackgroundTransparency=1 _.Position=f(0,0,0,10)_.Size=f(1,0,1,-15)_.ScrollBarThickness=0 _.ZIndex=3 _.CanvasSize=f(0,0,0,0)local aj=e'UIListLayout'aj.Parent=_ aj.SortOrder=Enum.SortOrder.LayoutOrder aj.Padding=g(0,1)local function UpdateText()X.Text=ag and('   '..ag)or'   Select'end local function UpdateVisuals()for ak,al in ipairs(_:GetChildren())do if al:IsA'TextButton'then local am=ag==al.Text al.BackgroundTransparency=am and 0.5 or 1 al.TextTransparency=am and 0 or 0.5 end end end local function AddOption(ak)local al=e'TextButton'al.Name='Option'al.Parent=_ al.BackgroundColor3=m.Primary al.BackgroundTransparency=1 al.Size=f(1,0,0,30)al.Font=Enum.Font.Cartoon al.Text=tostring(ak)al.TextColor3=m.White al.TextSize=13 al.TextTransparency=0.5 al.TextXAlignment=Enum.TextXAlignment.Center al.ZIndex=4 AddCorner(al,5)B[#B+1]=al.MouseButton1Click:Connect(function()ag=al.Text UpdateVisuals()UpdateText()pcall(ae,ag)end)end local ak=e'TextLabel'ak.Name='NoOptionsLabel'ak.Parent=_ ak.BackgroundTransparency=1 ak.Size=f(1,0,0,30)ak.Font=Enum.Font.Cartoon ak.Text='No options available'ak.TextColor3=m.DarkGray ak.TextSize=13 ak.TextTransparency=0.5 ak.TextXAlignment=Enum.TextXAlignment.Center ak.ZIndex=4 ak.Visible=false if ac~=nil then ag=tostring(ac)UpdateText()end if type(ad)=='table'then for al=1,#ad do AddOption(tostring(ad[al]))end else warn'Dropdown: options parameter must be a table'ad={}end ak.Visible=#ad==0 UpdateVisuals()local function Toggle()af=not af local al,am,an=af and f(1,0,0,145)or f(1,0,0,40),af and f(1,-10,0,100)or f(1,-10,0,0),af and 180 or 0 c:Create(ah,k,{Size=al}):Play()c:Create(Z,k,{Size=am}):Play()c:Create(Y,k,{Rotation=an}):Play()Z.Visible=af end local al=e'TextButton'al.Name='DropdownClickArea'al.Parent=ah al.BackgroundTransparency=1 al.Size=f(1,0,0,40)al.Text=''al.ZIndex=2 B[#B+1]=al.MouseButton1Click:Connect(Toggle)B[#B+1]=X.MouseButton1Click:Connect(Toggle)B[#B+1]=aj:GetPropertyChangedSignal'AbsoluteContentSize':Connect(function()_.CanvasSize=f(0,0,0,aj.AbsoluteContentSize.Y+10)end)local am={}function am.Add(an,ao)AddOption(tostring(ao))UpdateVisuals()local ap=0 for aq,ar in ipairs(_:GetChildren())do if ar:IsA'TextButton'then ap=ap+1 end end ak.Visible=ap==0 end function am.Clear(an)ag=nil UpdateText()for ao,ap in ipairs(_:GetChildren())do if ap:IsA'TextButton'then ap:Destroy()end end ak.Visible=true end function am.Refresh(an,ao)if type(ao)=='table'then local ap=ag an:Clear()if ap then for aq,ar in ipairs(ao)do if tostring(ar)==ap then ag=ap break end end end for aq=1,#ao do an:Add(ao[aq])end ak.Visible=#ao==0 UpdateText()UpdateVisuals()end end return am end function W.AddSlider(aa,ab,ac,ad,ae,af,ag)af=tonumber(af)or 1 ac=tonumber(ac)or 0 ad=tonumber(ad)or 100 ae=math.clamp(tonumber(ae)or ac,ac,ad)local function RoundValue(ah)return math.floor(ah/af+0.5)*af end local function FormatValue(ah)local ai,aj,ak=RoundValue(ah),0,af while math.abs(ak-math.floor(ak))>1e-10 and aj<10 do ak=ak*10 aj=aj+1 end if aj==0 then return tostring(math.floor(ai+0.5))else local al=string.format('%.'..aj..'f',ai)if al:find'%.'then al=al:match'(.-)0*$'if al:sub(-1)=='.'then al=al:sub(1,-2)end end return al~=''and al~='-'and al or'0'end end local ah=e'Frame'ah.Name='Slider'ah.Parent=U ah.BackgroundTransparency=1 ah.Size=f(1,0,0,40)AddCorner(ah,5)local ai=e'Frame'ai.Name='SliderBackground'ai.Parent=ah ai.BackgroundColor3=m.Primary ai.BackgroundTransparency=0.8 ai.Size=f(1,0,0,40)AddCorner(ai,5)local aj=e'TextLabel'aj.Parent=ai aj.BackgroundTransparency=1 aj.Position=f(0,15,0.5,0)aj.Size=f(0.5,0,0,30)aj.Font=Enum.Font.Cartoon aj.Text=ab aj.AnchorPoint=h(0,0.5)aj.TextColor3=m.White aj.TextSize=15 aj.TextXAlignment=Enum.TextXAlignment.Left local ak=e'Frame'ak.Name='SliderBar'ak.Parent=ai ak.BackgroundColor3=m.MediumGray ak.Size=f(0,150,0,8)ak.Position=f(1,-10,0.5,0)ak.BackgroundTransparency=0.8 ak.AnchorPoint=h(1,0.5)AddCorner(ak,4)local al=e'Frame'al.Name='SliderFill'al.Parent=ak al.BackgroundColor3=m.Accent AddCorner(al,4)local am=e'TextLabel'am.Parent=ai am.BackgroundTransparency=1 am.Position=f(1,-170,0.5,0)am.Size=f(0,50,0,30)am.Font=Enum.Font.Cartoon am.AnchorPoint=h(1,0.5)am.TextColor3=m.White am.TextSize=13 am.TextXAlignment=Enum.TextXAlignment.Right local an=RoundValue(ae)local ao=(an-ac)/(ad-ac)al.Size=f(0,ao*150,0,8)am.Text=FormatValue(an)local ap,aq=false,an local function UpdateSlider(ar)local X,Y,Z=ak.AbsolutePosition.X,ak.AbsoluteSize.X,ar.Position.X local _=math.clamp((Z-X)/Y,0,1)local as=ac+(ad-ac)*_ aq=RoundValue(as)am.Text=FormatValue(aq)al.Size=f(0,_*150,0,8)end B[#B+1]=ak.InputBegan:Connect(function(ar)if ar.UserInputType==Enum.UserInputType.MouseButton1 or ar.UserInputType==Enum.UserInputType.Touch then ap=true UpdateSlider(ar)end end)B[#B+1]=b.InputEnded:Connect(function(ar)if ar.UserInputType==Enum.UserInputType.MouseButton1 or ar.UserInputType==Enum.UserInputType.Touch then if ap then ap=false an=aq pcall(ag,an)end end end)B[#B+1]=b.InputChanged:Connect(function(ar)if ap and(ar.UserInputType==Enum.UserInputType.MouseMovement or ar.UserInputType==Enum.UserInputType.Touch)then UpdateSlider(ar)end end)local ar={Value=an}function ar.SetValue(as,X)local Y=tonumber(X)or an local Z=math.clamp(Y,ac,ad)local _=RoundValue(Z)local at=(_-ac)/(ad-ac)an=_ aq=_ as.Value=_ am.Text=FormatValue(_)al.Size=f(0,at*150,0,8)pcall(ag,_)end return ar end function W.AddTextbox(aa,ab,ac)local ad=e'Frame'ad.Name='Textbox'ad.Parent=U ad.BackgroundColor3=m.Primary ad.BackgroundTransparency=0.8 ad.Size=f(1,0,0,36)AddCorner(ad,5)local ae=e'TextLabel'ae.Name='TextboxLabel'ae.Parent=ad ae.BackgroundTransparency=1 ae.Position=f(0,15,0.5,0)ae.Text=ab ae.Size=f(0.6,0,0,36)ae.Font=Enum.Font.Cartoon ae.AnchorPoint=h(0,0.5)ae.TextColor3=m.White ae.TextSize=15 ae.TextXAlignment=Enum.TextXAlignment.Left local af=e'TextBox'af.Name='InputBox'af.Parent=ad af.BackgroundColor3=m.MediumGray af.BackgroundTransparency=0.8 af.Position=f(1,-5,0.5,0)af.AnchorPoint=h(1,0.5)af.Size=f(0,80,0,25)af.Font=Enum.Font.Cartoon af.Text=''af.TextColor3=m.LightGray af.TextSize=11 AddCorner(af,5)B[#B+1]=af.FocusLost:Connect(function()pcall(ac,af.Text)end)end function W.AddLabel(aa,ab)local ac,ad,ae=15,36,e'Frame'ae.Name='LabelFrame'ae.Parent=U ae.BackgroundColor3=m.Primary ae.BackgroundTransparency=0.8 ae.Size=f(1,0,0,ad)AddCorner(ae,5)local af=e'TextLabel'af.Name='LabelText'af.Parent=ae af.BackgroundTransparency=1 af.Size=f(1,-20,1,0)af.Font=Enum.Font.Cartoon af.Position=f(0,10,0,0)af.TextColor3=m.LightGray af.TextSize=ac af.Text=ab af.TextWrapped=true local function CalculateHeight()local ag=d:GetTextSize(ab,ac,Enum.Font.Cartoon,h(af.AbsoluteSize.X,math.huge))return ag.Y>ad and(ag.Y+10)or ad end task.spawn(function()task.wait(0.1)local ag=CalculateHeight()ae.Size=f(1,0,0,ag)task.wait(0.05)V:ApplyLayout()end)local ag={}function ag.SetText(ah,ai)af.Text=ai local aj=d:GetTextSize(ai,ac,Enum.Font.Cartoon,h(af.AbsoluteSize.X,math.huge))local ak=aj.Y>ad and(aj.Y+10)or ad ae.Size=f(1,0,0,ak)task.wait(0.05)V:ApplyLayout()end return ag end return W end return z end return u