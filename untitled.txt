local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

local Library = {}
local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

if CoreGui:FindFirstChild("SentinelLIB") then
    CoreGui.SentinelLIB:Destroy()
end

function Library:Window(Title)
    local Ui = Instance.new("ScreenGui")
    Ui.Name = "SentinelLIB"
    Ui.Parent = CoreGui
    Ui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    Ui.IgnoreGuiInset = true
    Ui.ResetOnSpawn = false

    local Main = Instance.new("Frame")
    Main.Name = "Main"
    Main.Parent = Ui
    Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Main.BorderSizePixel = 0
    Main.Position = UDim2.new(0.5, -235, 0.5, -141.5)
    Main.Size = UDim2.new(0, 470, 0, 283)
    Main.Active = true
    Main.Selectable = true

    local Dragging = false
    local DragInput, DragStart, StartPos

    local function UpdateInput(Input)
        local Delta = Input.Position - DragStart
        Main.Position = UDim2.new(
            StartPos.X.Scale,
            StartPos.X.Offset + Delta.X,
            StartPos.Y.Scale,
            StartPos.Y.Offset + Delta.Y
        )
    end

    Main.InputBegan:Connect(function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton1 or Input.UserInputType == Enum.UserInputType.Touch then
            Dragging = true
            DragStart = Input.Position
            StartPos = Main.Position
            Input.Changed:Connect(function()
                if Input.UserInputState == Enum.UserInputState.End then
                    Dragging = false
                end
            end)
        end
    end)

    Main.InputChanged:Connect(function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseMovement or Input.UserInputType == Enum.UserInputType.Touch then
            DragInput = Input
        end
    end)

    UserInputService.InputChanged:Connect(function(Input)
        if Input == DragInput and Dragging then
            UpdateInput(Input)
        end
    end)

    local UiCorner = Instance.new("UICorner")
    UiCorner.CornerRadius = UDim.new(0, 6)
    UiCorner.Parent = Main

    local Shadow = Instance.new("ImageLabel")
    Shadow.Name = "Shadow"
    Shadow.Parent = Main
    Shadow.AnchorPoint = Vector2.new(0.5, 0.5)
    Shadow.BackgroundTransparency = 1
    Shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    Shadow.Size = UDim2.new(1, 30, 1, 30)
    Shadow.ZIndex = 0
    Shadow.Image = "rbxassetid://5554236805"
    Shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    Shadow.ScaleType = Enum.ScaleType.Slice
    Shadow.SliceCenter = Rect.new(23, 23, 277, 277)

    local Top = Instance.new("Frame")
    Top.Name = "Top"
    Top.Parent = Main
    Top.BackgroundColor3 = Color3.fromRGB(24, 24, 24)
    Top.BorderSizePixel = 0
    Top.Size = UDim2.new(1, 0, 0, 34)

    local TopCorner = Instance.new("UICorner")
    TopCorner.CornerRadius = UDim.new(0, 6)
    TopCorner.Parent = Top

    local TopCover = Instance.new("Frame")
    TopCover.Name = "Cover"
    TopCover.Parent = Top
    TopCover.AnchorPoint = Vector2.new(0.5, 1)
    TopCover.BackgroundColor3 = Color3.fromRGB(24, 24, 24)
    TopCover.BorderSizePixel = 0
    TopCover.Position = UDim2.new(0.5, 0, 1, 0)
    TopCover.Size = UDim2.new(1, 0, 0, 4)

    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Parent = Top
    Line.AnchorPoint = Vector2.new(0.5, 1)
    Line.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Line.BackgroundTransparency = 0.920
    Line.Position = UDim2.new(0.5, 0, 1, 1)
    Line.Size = UDim2.new(1, 0, 0, 1)

    local Logo = Instance.new("ImageLabel")
    Logo.Name = "Logo"
    Logo.Parent = Top
    Logo.AnchorPoint = Vector2.new(0, 0.5)
    Logo.BackgroundTransparency = 1
    Logo.Position = UDim2.new(0, 4, 0.5, 0)
    Logo.Size = UDim2.new(0, 26, 0, 30)
    Logo.Image = "http://www.roblox.com/asset/?id=7803241868"
    Logo.ImageColor3 = Color3.fromRGB(232, 17, 85)

    local Minimize = Instance.new("ImageButton")
    Minimize.Name = "Minimize"
    Minimize.Parent = Top
    Minimize.AnchorPoint = Vector2.new(1, 0.5)
    Minimize.BackgroundTransparency = 1
    Minimize.Position = UDim2.new(1, -6, 0.5, 0)
    Minimize.Size = UDim2.new(0, 20, 0, 20)
    Minimize.Image = "rbxassetid://7733771811"
    Minimize.ImageColor3 = Color3.fromRGB(199, 199, 199)
    Minimize.ScaleType = Enum.ScaleType.Crop

    local MinimizedIcon = Instance.new("ImageButton")
    MinimizedIcon.Name = "MinimizedIcon"
    MinimizedIcon.Parent = Ui
    MinimizedIcon.AnchorPoint = Vector2.new(1, 1)
    MinimizedIcon.BackgroundColor3 = Color3.fromRGB(232, 17, 85)
    MinimizedIcon.BorderSizePixel = 0
    MinimizedIcon.Position = UDim2.new(1, -20, 1, -20)
    MinimizedIcon.Size = UDim2.new(0, 40, 0, 40)
    MinimizedIcon.Visible = false
    MinimizedIcon.ZIndex = 10
    MinimizedIcon.Image = "http://www.roblox.com/asset/?id=7803241868"

    local MinimizedCorner = Instance.new("UICorner")
    MinimizedCorner.CornerRadius = UDim.new(0, 8)
    MinimizedCorner.Parent = MinimizedIcon

    local MinDragging = false
    local MinDragInput, MinDragStart, MinStartPos

    local function UpdateMinInput(Input)
        local Delta = Input.Position - MinDragStart
        MinimizedIcon.Position = UDim2.new(
            MinStartPos.X.Scale,
            MinStartPos.X.Offset + Delta.X,
            MinStartPos.Y.Scale,
            MinStartPos.Y.Offset + Delta.Y
        )
    end

    MinimizedIcon.InputBegan:Connect(function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton1 or Input.UserInputType == Enum.UserInputType.Touch then
            MinDragging = true
            MinDragStart = Input.Position
            MinStartPos = MinimizedIcon.Position
            Input.Changed:Connect(function()
                if Input.UserInputState == Enum.UserInputState.End then
                    MinDragging = false
                end
            end)
        end
    end)

    MinimizedIcon.InputChanged:Connect(function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseMovement or Input.UserInputType == Enum.UserInputType.Touch then
            MinDragInput = Input
        end
    end)

    UserInputService.InputChanged:Connect(function(Input)
        if Input == MinDragInput and MinDragging then
            UpdateMinInput(Input)
        end
    end)

    Minimize.MouseButton1Click:Connect(function()
        Main.Visible = false
        MinimizedIcon.Visible = true
    end)

    Minimize.MouseEnter:Connect(function()
        TweenService:Create(Minimize, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            ImageColor3 = Color3.fromRGB(255, 255, 255)
        }):Play()
    end)

    Minimize.MouseLeave:Connect(function()
        TweenService:Create(Minimize, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            ImageColor3 = Color3.fromRGB(166, 166, 166)
        }):Play()
    end)

    MinimizedIcon.MouseButton1Click:Connect(function()
        Main.Visible = true
        MinimizedIcon.Visible = false
    end)

    local GameName = Instance.new("TextLabel")
    GameName.Name = "GameName"
    GameName.Parent = Top
    GameName.AnchorPoint = Vector2.new(0, 0.5)
    GameName.BackgroundTransparency = 1
    GameName.Position = UDim2.new(0, 32, 0.5, 0)
    GameName.Size = UDim2.new(0, 165, 0, 22)
    GameName.Font = Enum.Font.Gotham
    GameName.Text = Title or "SentinelLIB"
    GameName.TextColor3 = Color3.fromRGB(232, 17, 85)
    GameName.TextSize = 14
    GameName.TextXAlignment = Enum.TextXAlignment.Left

    local Tabs = Instance.new("Frame")
    Tabs.Name = "Tabs"
    Tabs.Parent = Main
    Tabs.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
    Tabs.BorderSizePixel = 0
    Tabs.Position = UDim2.new(0, 0, 0, 35)
    Tabs.Size = UDim2.new(0, 122, 1, -35)

    local TabsCorner = Instance.new("UICorner")
    TabsCorner.CornerRadius = UDim.new(0, 6)
    TabsCorner.Parent = Tabs

    local TabsCover = Instance.new("Frame")
    TabsCover.Name = "Cover"
    TabsCover.Parent = Tabs
    TabsCover.AnchorPoint = Vector2.new(1, 0.5)
    TabsCover.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
    TabsCover.BorderSizePixel = 0
    TabsCover.Position = UDim2.new(1, 0, 0.5, 0)
    TabsCover.Size = UDim2.new(0, 5, 1, 0)

    local TabsContainer = Instance.new("ScrollingFrame")
    TabsContainer.Name = "TabsContainer"
    TabsContainer.Parent = Tabs
    TabsContainer.BackgroundTransparency = 1
    TabsContainer.Size = UDim2.new(1, 0, 1, 0)
    TabsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabsContainer.ScrollBarThickness = 0
    TabsContainer.ScrollBarImageTransparency = 1

    local TabsList = Instance.new("UIListLayout")
    TabsList.Name = "TabsList"
    TabsList.Parent = TabsContainer
    TabsList.HorizontalAlignment = Enum.HorizontalAlignment.Center
    TabsList.SortOrder = Enum.SortOrder.LayoutOrder
    TabsList.Padding = UDim.new(0, 5)

    local TabsPadding = Instance.new("UIPadding")
    TabsPadding.Parent = TabsContainer
    TabsPadding.PaddingTop = UDim.new(0, 5)

    TabsList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        TabsContainer.CanvasSize = UDim2.new(0, 0, 0, TabsList.AbsoluteContentSize.Y + 10)
    end)

    local Pages = Instance.new("Frame")
    Pages.Name = "Pages"
    Pages.Parent = Main
    Pages.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Pages.BorderSizePixel = 0
    Pages.Position = UDim2.new(0, 130, 0, 42)
    Pages.Size = UDim2.new(1, -138, 1, -50)

    local PagesCorner = Instance.new("UICorner")
    PagesCorner.CornerRadius = UDim.new(0, 6)
    PagesCorner.Parent = Pages

    local TabFunctions = {}
    local FirstTabCreated = false

    function TabFunctions:Tab(TabTitle)
        local TitleText = TabTitle or "Tab"

        local TabButton = Instance.new("TextButton")
        TabButton.Name = "TabButton"
        TabButton.Parent = TabsContainer
        TabButton.BackgroundColor3 = Color3.fromRGB(232, 17, 85)
        TabButton.BackgroundTransparency = 1
        TabButton.Size = UDim2.new(1, -12, 0, 30)
        TabButton.AutoButtonColor = false
        TabButton.Font = Enum.Font.Gotham
        TabButton.Text = ""
        TabButton.TextColor3 = Color3.fromRGB(72, 72, 72)
        TabButton.TextSize = 14

        local TabCorner = Instance.new("UICorner")
        TabCorner.CornerRadius = UDim.new(0, 6)
        TabCorner.Parent = TabButton

        local TextLabel = Instance.new("TextLabel")
        TextLabel.Name = "TextLabel"
        TextLabel.Parent = TabButton
        TextLabel.BackgroundTransparency = 1
        TextLabel.Size = UDim2.new(1, 0, 1, 0)
        TextLabel.Font = Enum.Font.Gotham
        TextLabel.Text = TitleText
        TextLabel.TextColor3 = Color3.fromRGB(72, 72, 72)
        TextLabel.TextSize = 14
        TextLabel.TextXAlignment = Enum.TextXAlignment.Center

        local Page = Instance.new("ScrollingFrame")
        Page.Name = "Page"
        Page.Visible = false
        Page.Parent = Pages
        Page.Active = true
        Page.BackgroundTransparency = 1
        Page.BorderSizePixel = 0
        Page.Size = UDim2.new(1, 0, 1, 0)
        Page.CanvasPosition = Vector2.new(0, 0)
        Page.ScrollBarThickness = 0
        Page.ScrollBarImageTransparency = 1

        local PageList = Instance.new("UIListLayout")
        PageList.Parent = Page
        PageList.HorizontalAlignment = Enum.HorizontalAlignment.Center
        PageList.SortOrder = Enum.SortOrder.LayoutOrder
        PageList.Padding = UDim.new(0, 6)

        local PagePadding = Instance.new("UIPadding")
        PagePadding.Parent = Page
        PagePadding.PaddingTop = UDim.new(0, 5)

        PageList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            Page.CanvasSize = UDim2.new(0, 0, 0, PageList.AbsoluteContentSize.Y)
        end)

        TabButton.MouseButton1Click:Connect(function()
            for _, Child in next, Pages:GetChildren() do
                if Child:IsA("ScrollingFrame") then
                    Child.Visible = false
                end
            end
            Page.Visible = true

            for _, Child in next, TabsContainer:GetChildren() do
                if Child.Name == "TabButton" then
                    TweenService:Create(Child, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        BackgroundTransparency = 1
                    }):Play()
                    if Child:FindFirstChild("TextLabel") then
                        TweenService:Create(Child.TextLabel, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                            TextColor3 = Color3.fromRGB(72, 72, 72)
                        }):Play()
                    end
                end
            end

            TweenService:Create(TabButton, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 0.6
            }):Play()
            TweenService:Create(TextLabel, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                TextColor3 = Color3.fromRGB(255, 255, 255)
            }):Play()
        end)

        local Elements = {}

        function Elements:Button(Text, Callback)
            local Button = Instance.new("TextButton")
            Button.Name = "Button"
            Button.Parent = Page
            Button.BackgroundColor3 = Color3.fromRGB(134, 10, 49)
            Button.BorderSizePixel = 0
            Button.Size = UDim2.new(1, -6, 0, 34)
            Button.AutoButtonColor = false
            Button.Font = Enum.Font.Gotham
            Button.Text = Text or "Button"
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 14
            Button.TextXAlignment = Enum.TextXAlignment.Center

            local ButtonCorner = Instance.new("UICorner")
            ButtonCorner.CornerRadius = UDim.new(0, 6)
            ButtonCorner.Parent = Button

            Button.MouseEnter:Connect(function()
                TweenService:Create(Button, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    BackgroundColor3 = Color3.fromRGB(160, 12, 59)
                }):Play()
            end)

            Button.MouseLeave:Connect(function()
                TweenService:Create(Button, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    BackgroundColor3 = Color3.fromRGB(134, 10, 49)
                }):Play()
            end)

            Button.MouseButton1Click:Connect(function()
                if Callback then
                    Callback()
                end
            end)
        end

        function Elements:Toggle(Text, Default, Callback)
            local Toggle = Instance.new("TextButton")
            Toggle.Name = "Toggle"
            Toggle.Parent = Page
            Toggle.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            Toggle.BorderSizePixel = 0
            Toggle.Size = UDim2.new(1, -6, 0, 34)
            Toggle.AutoButtonColor = false
            Toggle.Text = ""

            local ToggleCorner = Instance.new("UICorner")
            ToggleCorner.CornerRadius = UDim.new(0, 6)
            ToggleCorner.Parent = Toggle

            local Title = Instance.new("TextLabel")
            Title.Name = "Title"
            Title.Parent = Toggle
            Title.BackgroundTransparency = 1
            Title.Position = UDim2.new(0, 8, 0, 0)
            Title.Size = UDim2.new(1, -6, 1, 0)
            Title.Font = Enum.Font.Gotham
            Title.Text = Text or "Toggle"
            Title.TextColor3 = Color3.fromRGB(255, 255, 255)
            Title.TextSize = 14
            Title.TextXAlignment = Enum.TextXAlignment.Left

            local ToggleFrame = Instance.new("Frame")
            ToggleFrame.Name = "ToggleFrame"
            ToggleFrame.Parent = Toggle
            ToggleFrame.AnchorPoint = Vector2.new(1, 0.5)
            ToggleFrame.BackgroundColor3 = Color3.fromRGB(161, 12, 59)
            ToggleFrame.BackgroundTransparency = 1
            ToggleFrame.BorderSizePixel = 0
            ToggleFrame.Position = UDim2.new(1, -8, 0.5, 0)
            ToggleFrame.Size = UDim2.new(0, 14, 0, 14)

            local ToggleCorner2 = Instance.new("UICorner")
            ToggleCorner2.CornerRadius = UDim.new(0, 3)
            ToggleCorner2.Parent = ToggleFrame

            local Check = Instance.new("ImageLabel")
            Check.Name = "Check"
            Check.Parent = ToggleFrame
            Check.BackgroundTransparency = 1
            Check.Position = UDim2.new(-0.214285731, 0, -0.214285731, 0)
            Check.Size = UDim2.new(0, 20, 0, 20)
            Check.Image = "http://www.roblox.com/asset/?id=7812909048"
            Check.ImageTransparency = 1
            Check.ScaleType = Enum.ScaleType.Fit

            local ToggleStroke = Instance.new("UIStroke")
            ToggleStroke.Parent = ToggleFrame
            ToggleStroke.LineJoinMode = Enum.LineJoinMode.Round
            ToggleStroke.Thickness = 2
            ToggleStroke.Color = Color3.fromRGB(161, 12, 59)

            local Toggled = Default or false

            if Toggled then
                TweenService:Create(ToggleFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    BackgroundTransparency = 0
                }):Play()
                TweenService:Create(Check, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    ImageTransparency = 0
                }):Play()
            end

            Toggle.MouseEnter:Connect(function()
                TweenService:Create(Toggle, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    BackgroundColor3 = Color3.fromRGB(40, 40, 40)
                }):Play()
            end)

            Toggle.MouseLeave:Connect(function()
                TweenService:Create(Toggle, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
                    BackgroundColor3 = Color3.fromRGB(35, 35, 35)
                }):Play()
            end)

            Toggle.MouseButton1Click:Connect(function()
                Toggled = not Toggled

                if Toggled then
                    TweenService:Create(ToggleFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        BackgroundTransparency = 0
                    }):Play()
                    TweenService:Create(Check, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        ImageTransparency = 0
                    }):Play()
                else
                    TweenService:Create(ToggleFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        BackgroundTransparency = 1
                    }):Play()
                    TweenService:Create(Check, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        ImageTransparency = 1
                    }):Play()
                end

                if Callback then
                    Callback(Toggled)
                end
            end)

            local ToggleFunctions = {}
            function ToggleFunctions:Set(Value)
                Toggled = Value
                if Toggled then
                    TweenService:Create(ToggleFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        BackgroundTransparency = 0
                    }):Play()
                    TweenService:Create(Check, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        ImageTransparency = 0
                    }):Play()
                else
                    TweenService:Create(ToggleFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        BackgroundTransparency = 1
                    }):Play()
                    TweenService:Create(Check, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        ImageTransparency = 1
                    }):Play()
                end
                if Callback then
                    Callback(Toggled)
                end
            end

            return ToggleFunctions
        end

        function Elements:Label(Text)
            local Label = Instance.new("TextLabel")
            Label.Parent = Page
            Label.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            Label.BorderSizePixel = 0
            Label.Size = UDim2.new(1, -6, 0, 34)
            Label.Font = Enum.Font.Gotham
            Label.Text = Text or "Label"
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextSize = 14
            Label.TextXAlignment = Enum.TextXAlignment.Center

            local LabelCorner = Instance.new("UICorner")
            LabelCorner.CornerRadius = UDim.new(0, 6)
            LabelCorner.Parent = Label

            local LabelFunctions = {}
            function LabelFunctions:Set(NewText)
                Label.Text = NewText or "Label"
            end

            return LabelFunctions
        end

        function Elements:Slider(Text, Min, Max, Default, Increment, Callback)
            Min = Min or 0
            Max = Max or 100
            Default = Default or Min
            Increment = Increment or 1

            local Slider = Instance.new("Frame")
            Slider.Name = "Slider"
            Slider.Parent = Page
            Slider.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            Slider.Size = UDim2.new(1, -6, 0, 48)

            local SliderCorner = Instance.new("UICorner")
            SliderCorner.CornerRadius = UDim.new(0, 6)
            SliderCorner.Parent = Slider

            local Title = Instance.new("TextLabel")
            Title.Name = "Title"
            Title.Parent = Slider
            Title.BackgroundTransparency = 1
            Title.Position = UDim2.new(0, 8, 0, 0)
            Title.Size = UDim2.new(1, -6, 0, 34)
            Title.Font = Enum.Font.Gotham
            Title.Text = Text or "Slider"
            Title.TextColor3 = Color3.fromRGB(255, 255, 255)
            Title.TextSize = 14
            Title.TextXAlignment = Enum.TextXAlignment.Left

            local Value = Instance.new("TextLabel")
            Value.Name = "Value"
            Value.Parent = Slider
            Value.AnchorPoint = Vector2.new(1, 0)
            Value.BackgroundTransparency = 1
            Value.Position = UDim2.new(1, -10, 0, 0)
            Value.Size = UDim2.new(1, 0, 0, 34)
            Value.Font = Enum.Font.Gotham
            Value.Text = tostring(Default)
            Value.TextColor3 = Color3.fromRGB(255, 255, 255)
            Value.TextSize = 14
            Value.TextXAlignment = Enum.TextXAlignment.Right

            local SliderClick = Instance.new("TextButton")
            SliderClick.Name = "SliderClick"
            SliderClick.Parent = Slider
            SliderClick.AnchorPoint = Vector2.new(0.5, 1)
            SliderClick.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
            SliderClick.Position = UDim2.new(0.5, 0, 1, -8)
            SliderClick.Size = UDim2.new(1, -12, 0, 6)
            SliderClick.AutoButtonColor = false
            SliderClick.Text = ""
            SliderClick.Selectable = false
            SliderClick.Active = true
            SliderClick.SelectionImageObject = nil

            local SliderClickCorner = Instance.new("UICorner")
            SliderClickCorner.CornerRadius = UDim.new(0, 6)
            SliderClickCorner.Parent = SliderClick

            local SliderDrag = Instance.new("Frame")
            SliderDrag.Name = "SliderDrag"
            SliderDrag.Parent = SliderClick
            SliderDrag.BackgroundColor3 = Color3.fromRGB(188, 14, 69)
            SliderDrag.Size = UDim2.new((Default - Min) / (Max - Min), 0, 1, 0)

            local SliderDragCorner = Instance.new("UICorner")
            SliderDragCorner.CornerRadius = UDim.new(0, 6)
            SliderDragCorner.Parent = SliderDrag

            local SliderDragging = false
            local CurrentInput = nil

            local function RoundToIncrement(value)
                if Increment == 0 then return value end
                return math.floor(value / Increment + 0.5) * Increment
            end

            local function FormatNumber(value)
                local formatted = string.format("%.4f", value)
                formatted = formatted:gsub("0+$", "")
                formatted = formatted:gsub("%.$", "")
                return formatted
            end

            local function Slide(Input)
                local Percent = math.clamp(
                    (Input.Position.X - SliderClick.AbsolutePosition.X) / SliderClick.AbsoluteSize.X,
                    0,
                    1
                )
                local RawValue = Min + (Percent * (Max - Min))
                local SliderValue = RoundToIncrement(RawValue)
                local AdjustedPercent = (SliderValue - Min) / (Max - Min)
                
                SliderDrag.Size = UDim2.new(AdjustedPercent, 0, 1, 0)
                Value.Text = FormatNumber(SliderValue)
                if Callback then
                    Callback(SliderValue)
                end
            end

            local function SlideFromPosition(Position)
                local Percent = math.clamp(
                    (Position.X - SliderClick.AbsolutePosition.X) / SliderClick.AbsoluteSize.X,
                    0,
                    1
                )
                local RawValue = Min + (Percent * (Max - Min))
                local SliderValue = RoundToIncrement(RawValue)
                local AdjustedPercent = (SliderValue - Min) / (Max - Min)
                
                SliderDrag.Size = UDim2.new(AdjustedPercent, 0, 1, 0)
                Value.Text = FormatNumber(SliderValue)
                if Callback then
                    Callback(SliderValue)
                end
            end

            local function SetValue(NewValue)
                local ClampedValue = math.clamp(NewValue, Min, Max)
                local RoundedValue = RoundToIncrement(ClampedValue)
                local Percent = (RoundedValue - Min) / (Max - Min)
                
                SliderDrag.Size = UDim2.new(Percent, 0, 1, 0)
                Value.Text = FormatNumber(RoundedValue)
                if Callback then
                    Callback(RoundedValue)
                end
            end

            SliderClick.InputBegan:Connect(function(Input)
                if Input.UserInputType == Enum.UserInputType.MouseButton1 or 
                   Input.UserInputType == Enum.UserInputType.Touch then
                    SliderDragging = true
                    CurrentInput = Input
                    Slide(Input)
                    
                    local connection
                    connection = Input.Changed:Connect(function()
                        if Input.UserInputState == Enum.UserInputState.End then
                            SliderDragging = false
                            CurrentInput = nil
                            if connection then
                                connection:Disconnect()
                            end
                        end
                    end)
                end
            end)

            SliderClick.TouchTap:Connect(function(Position)
                if not SliderDragging then
                    SlideFromPosition(Position)
                end
            end)

            UserInputService.InputChanged:Connect(function(Input)
                if SliderDragging and (Input == CurrentInput) and
                   (Input.UserInputType == Enum.UserInputType.MouseMovement or 
                    Input.UserInputType == Enum.UserInputType.Touch) then
                    Slide(Input)
                end
            end)

            local TouchArea = Instance.new("TextButton")
            TouchArea.Name = "TouchArea"
            TouchArea.Parent = SliderClick
            TouchArea.BackgroundTransparency = 1
            TouchArea.Size = UDim2.new(1, 0, 1, 0)
            TouchArea.Text = ""
            TouchArea.ZIndex = 2
            TouchArea.Active = true
            TouchArea.Selectable = false
            TouchArea.SelectionImageObject = nil

            TouchArea.InputBegan:Connect(function(Input)
                if Input.UserInputType == Enum.UserInputType.Touch then
                    SliderDragging = true
                    CurrentInput = Input
                    Slide(Input)
                    
                    local connection
                    connection = Input.Changed:Connect(function()
                        if Input.UserInputState == Enum.UserInputState.End then
                            SliderDragging = false
                            CurrentInput = nil
                            if connection then
                                connection:Disconnect()
                            end
                        end
                    end)
                end
            end)

            local SliderTouchArea = Instance.new("TextButton")
            SliderTouchArea.Name = "SliderTouchArea"
            SliderTouchArea.Parent = Slider
            SliderTouchArea.BackgroundTransparency = 1
            SliderTouchArea.Size = UDim2.new(1, 0, 1, 0)
            SliderTouchArea.Text = ""
            SliderTouchArea.ZIndex = 0
            SliderTouchArea.Active = false
            
            SliderTouchArea.InputBegan:Connect(function(Input)
                if Input.UserInputType == Enum.UserInputType.Touch then
                    local touchPos = Input.Position
                    local sliderAbsPos = SliderClick.AbsolutePosition
                    local sliderAbsSize = SliderClick.AbsoluteSize
                    
                    if touchPos.X >= sliderAbsPos.X and touchPos.X <= sliderAbsPos.X + sliderAbsSize.X and
                       touchPos.Y >= sliderAbsPos.Y - 15 and touchPos.Y <= sliderAbsPos.Y + sliderAbsSize.Y + 15 then
                        SlideFromPosition(touchPos)
                    end
                end
            end)

            local SliderFunctions = {}
            function SliderFunctions:Set(NewValue)
                SetValue(NewValue)
            end
            
            return SliderFunctions
        end

        function Elements:InputBox(Text, Placeholder, Callback)
            local InputBox = Instance.new("Frame")
            InputBox.Name = "InputBox"
            InputBox.Parent = Page
            InputBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            InputBox.BorderSizePixel = 0
            InputBox.Size = UDim2.new(1, -6, 0, 34)
            
            local InputBoxCorner = Instance.new("UICorner")
            InputBoxCorner.CornerRadius = UDim.new(0, 6)
            InputBoxCorner.Parent = InputBox
            
            local Title = Instance.new("TextLabel")
            Title.Name = "Title"
            Title.Parent = InputBox
            Title.BackgroundTransparency = 1
            Title.Position = UDim2.new(0, 8, 0, 0)
            Title.Size = UDim2.new(0.4, -6, 1, 0)
            Title.Font = Enum.Font.Gotham
            Title.Text = Text or "Input"
            Title.TextColor3 = Color3.fromRGB(255, 255, 255)
            Title.TextSize = 14
            Title.TextXAlignment = Enum.TextXAlignment.Left
            
            local BoxContainer = Instance.new("Frame")
            BoxContainer.Name = "BoxContainer"
            BoxContainer.Parent = InputBox
            BoxContainer.BackgroundTransparency = 1
            BoxContainer.AnchorPoint = Vector2.new(1, 0.5)
            BoxContainer.Position = UDim2.new(1, -6, 0.5, 0)
            BoxContainer.Size = UDim2.new(0.55, -12, 0, 24)
            BoxContainer.ClipsDescendants = true
            
            local Box = Instance.new("TextBox")
            Box.Name = "Box"
            Box.Parent = BoxContainer
            Box.BackgroundColor3 = Color3.fromRGB(43, 43, 43)
            Box.BorderSizePixel = 0
            Box.Size = UDim2.new(1, 0, 1, 0)
            Box.Font = Enum.Font.Gotham
            Box.PlaceholderText = Placeholder or "Enter text..."
            Box.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
            Box.Text = ""
            Box.TextColor3 = Color3.fromRGB(255, 255, 255)
            Box.TextSize = 14
            Box.TextXAlignment = Enum.TextXAlignment.Center
            
            local BoxCorner = Instance.new("UICorner")
            BoxCorner.CornerRadius = UDim.new(0, 4)
            BoxCorner.Parent = Box
            
            Box.FocusLost:Connect(function(EnterPressed)
                if Callback and (EnterPressed or not Box:IsFocused()) then
                    Callback(Box.Text)
                end
            end)
            
            local HoverFrame = Instance.new("TextButton")
            HoverFrame.Name = "HoverFrame"
            HoverFrame.Parent = InputBox
            HoverFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            HoverFrame.BorderSizePixel = 0
            HoverFrame.Size = UDim2.new(1, 0, 1, 0)
            HoverFrame.AutoButtonColor = false
            HoverFrame.Text = ""
            HoverFrame.ZIndex = 0
            
            HoverFrame.MouseEnter:Connect(function()
                TweenService:Create(InputBox, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    BackgroundColor3 = Color3.fromRGB(40, 40, 40)
                }):Play()
            end)
            
            HoverFrame.MouseLeave:Connect(function()
                TweenService:Create(InputBox, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
                    BackgroundColor3 = Color3.fromRGB(35, 35, 35)
                }):Play()
            end)
            
            HoverFrame.MouseButton1Click:Connect(function()
                Box:CaptureFocus()
            end)
        end

        function Elements:Dropdown(Text, Options, Callback)
            Options = Options or {}
            Callback = Callback or function() end
            
            local Dropdown = Instance.new("Frame")
            Dropdown.Name = "Dropdown"
            Dropdown.Parent = Page
            Dropdown.BackgroundTransparency = 1
            Dropdown.BorderSizePixel = 0
            Dropdown.ClipsDescendants = false
            Dropdown.Size = UDim2.new(1, -6, 0, 34)
            
            local Choose = Instance.new("Frame")
            Choose.Name = "Choose"
            Choose.Parent = Dropdown
            Choose.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            Choose.BorderSizePixel = 0
            Choose.Size = UDim2.new(1, 0, 0, 34)
            
            local ChooseCorner = Instance.new("UICorner")
            ChooseCorner.CornerRadius = UDim.new(0, 6)
            ChooseCorner.Parent = Choose
            
            local Title = Instance.new("TextLabel")
            Title.Name = "Title"
            Title.Parent = Choose
            Title.BackgroundTransparency = 1
            Title.Position = UDim2.new(0, 8, 0, 0)
            Title.Size = UDim2.new(1, -46, 1, 0)
            Title.Font = Enum.Font.Gotham
            Title.Text = Text or "Dropdown"
            Title.TextColor3 = Color3.fromRGB(255, 255, 255)
            Title.TextSize = 14
            Title.TextXAlignment = Enum.TextXAlignment.Left
            
            local Arrow = Instance.new("ImageButton")
            Arrow.Name = "Arrow"
            Arrow.Parent = Choose
            Arrow.AnchorPoint = Vector2.new(1, 0.5)
            Arrow.BackgroundTransparency = 1
            Arrow.Position = UDim2.new(1, -8, 0.5, 0)
            Arrow.Size = UDim2.new(0, 20, 0, 20)
            Arrow.Image = "rbxassetid://3926307971"
            Arrow.ImageColor3 = Color3.fromRGB(161, 12, 59)
            Arrow.ImageRectOffset = Vector2.new(324, 524)
            Arrow.ImageRectSize = Vector2.new(36, 36)
            Arrow.ScaleType = Enum.ScaleType.Fit
            
            local OptionHolder = Instance.new("Frame")
            OptionHolder.Name = "OptionHolder"
            OptionHolder.Parent = Page
            OptionHolder.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            OptionHolder.BorderSizePixel = 0
            OptionHolder.Position = UDim2.new(0, 0, 0, 0)
            OptionHolder.Size = UDim2.new(1, -6, 0, 0)
            OptionHolder.Visible = false
            OptionHolder.ZIndex = 100
            
            local OptionHolderCorner = Instance.new("UICorner")
            OptionHolderCorner.CornerRadius = UDim.new(0, 6)
            OptionHolderCorner.Parent = OptionHolder
            
            local OptionList = Instance.new("UIListLayout")
            OptionList.Name = "OptionList"
            OptionList.Parent = OptionHolder
            OptionList.HorizontalAlignment = Enum.HorizontalAlignment.Center
            OptionList.SortOrder = Enum.SortOrder.LayoutOrder
            OptionList.Padding = UDim.new(0, 5)
            
            local OptionPadding = Instance.new("UIPadding")
            OptionPadding.Parent = OptionHolder
            OptionPadding.PaddingTop = UDim.new(0, 8)
            OptionPadding.PaddingLeft = UDim.new(0, 8)
            OptionPadding.PaddingRight = UDim.new(0, 8)
            OptionPadding.PaddingBottom = UDim.new(0, 8)
            
            OptionList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
                local ContentHeight = OptionList.AbsoluteContentSize.Y + 16
                OptionHolder.Size = UDim2.new(1, -6, 0, ContentHeight)
            end)
            
            local Dropped = false
            
            local function RefreshOptions(NewOptions)
                NewOptions = NewOptions or {}
                
                for _, Child in ipairs(OptionHolder:GetChildren()) do
                    if Child:IsA("TextButton") then
                        Child:Destroy()
                    end
                end
                
                Title.Text = Text or "Dropdown"
                
                if #NewOptions == 0 then
                    local NoOption = Instance.new("TextButton")
                    NoOption.Name = "NoOption"
                    NoOption.Parent = OptionHolder
                    NoOption.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
                    NoOption.BorderSizePixel = 0
                    NoOption.Size = UDim2.new(1, -16, 0, 30)
                    NoOption.Font = Enum.Font.Gotham
                    NoOption.Text = "No Options Available"
                    NoOption.TextColor3 = Color3.fromRGB(150, 150, 150)
                    NoOption.TextSize = 14
                    NoOption.TextXAlignment = Enum.TextXAlignment.Center
                    NoOption.AutoButtonColor = false
                    NoOption.Selectable = false
                    NoOption.Active = false
                    
                    local NoOptionCorner = Instance.new("UICorner")
                    NoOptionCorner.CornerRadius = UDim.new(0, 6)
                    NoOptionCorner.Parent = NoOption
                else
                    for _, Option in ipairs(NewOptions) do
                        local OptionButton = Instance.new("TextButton")
                        OptionButton.Name = "Option"
                        OptionButton.Parent = OptionHolder
                        OptionButton.BackgroundColor3 = Color3.fromRGB(134, 10, 49)
                        OptionButton.BorderSizePixel = 0
                        OptionButton.Size = UDim2.new(1, -16, 0, 30)
                        OptionButton.AutoButtonColor = false
                        OptionButton.Font = Enum.Font.Gotham
                        OptionButton.Text = Option
                        OptionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                        OptionButton.TextSize = 14
                        OptionButton.TextXAlignment = Enum.TextXAlignment.Center
                        
                        local OptionCorner = Instance.new("UICorner")
                        OptionCorner.CornerRadius = UDim.new(0, 6)
                        OptionCorner.Parent = OptionButton
                        
                        OptionButton.MouseButton1Click:Connect(function()
                            if Callback then
                                Callback(Option)
                            end
                            Title.Text = (Text or "Dropdown") .. ": " .. Option
                            Dropped = false
                            OptionHolder.Visible = false
                            Arrow.Rotation = 0
                        end)
                        
                        OptionButton.MouseEnter:Connect(function()
                            TweenService:Create(OptionButton, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                                BackgroundColor3 = Color3.fromRGB(160, 12, 59)
                            }):Play()
                        end)
                        
                        OptionButton.MouseLeave:Connect(function()
                            TweenService:Create(OptionButton, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                                BackgroundColor3 = Color3.fromRGB(134, 10, 49)
                            }):Play()
                        end)
                    end
                end
            end
            
            RefreshOptions(Options)
            
            Arrow.MouseButton1Click:Connect(function()
                Dropped = not Dropped
                
                if Dropped then
                    OptionHolder.Visible = true
                    Arrow.Rotation = 180
                    
                    task.wait(0.01)
                    
                    local chooseAbsolutePosition = Choose.AbsolutePosition
                    local chooseAbsoluteSize = Choose.AbsoluteSize
                    local pageAbsolutePosition = Page.AbsolutePosition
                    
                    local xPos = chooseAbsolutePosition.X - pageAbsolutePosition.X
                    local yPos = (chooseAbsolutePosition.Y - pageAbsolutePosition.Y) + chooseAbsoluteSize.Y + 5
                    
                    OptionHolder.Position = UDim2.new(0, xPos, 0, yPos)
                else
                    OptionHolder.Visible = false
                    Arrow.Rotation = 0
                end
            end)
            
            local function CloseDropdown()
                if Dropped then
                    Dropped = false
                    OptionHolder.Visible = false
                    Arrow.Rotation = 0
                end
            end
            
            UserInputService.InputBegan:Connect(function(Input)
                if Dropped and Input.UserInputType == Enum.UserInputType.MouseButton1 then
                    local mousePos = Input.Position
                    local optionHolderAbsPos = OptionHolder.AbsolutePosition
                    local optionHolderAbsSize = OptionHolder.AbsoluteSize
                    local chooseAbsPos = Choose.AbsolutePosition
                    local chooseAbsSize = Choose.AbsoluteSize
                    
                    local clickInDropdown = mousePos.X >= chooseAbsPos.X and mousePos.X <= chooseAbsPos.X + chooseAbsSize.X and
                                           mousePos.Y >= chooseAbsPos.Y and mousePos.Y <= chooseAbsPos.Y + chooseAbsSize.Y
                    
                    local clickInOptions = mousePos.X >= optionHolderAbsPos.X and mousePos.X <= optionHolderAbsPos.X + optionHolderAbsSize.X and
                                          mousePos.Y >= optionHolderAbsPos.Y and mousePos.Y <= optionHolderAbsPos.Y + optionHolderAbsSize.Y
                    
                    if not (clickInDropdown or clickInOptions) then
                        CloseDropdown()
                    end
                end
            end)
            
            local DropdownFunctions = {}
            function DropdownFunctions:Refresh(NewOptions)
                RefreshOptions(NewOptions)
                Dropped = false
                OptionHolder.Visible = false
                Arrow.Rotation = 0
            end
            
            return DropdownFunctions
        end

        if not FirstTabCreated then
            FirstTabCreated = true
            Page.Visible = true
            TweenService:Create(TabButton, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 0.6
            }):Play()
            TweenService:Create(TextLabel, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                TextColor3 = Color3.fromRGB(255, 255, 255)
            }):Play()
        end

        return Elements
    end

    return TabFunctions
end

return Library